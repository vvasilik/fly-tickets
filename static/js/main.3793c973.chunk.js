(this.webpackJsonpfly=this.webpackJsonpfly||[]).push([[0],{79:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,u,o,l=n(0),j=n.n(l),d=n(10),b=n.n(d),p=(n(79),n(39)),h=n(17),f=n.n(h),O=n(33),x=n(21),v=n(19),g=n(20),m=n(141),y=n(133),k=n(142),D=n(143),S=n(130),C=n(140),P=n(132),w=n(61),I=n.n(w),F=function(e){var t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(t,"-").concat(n)},N=n(4),L=g.a.form(r||(r=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),U=g.a.div(a||(a=Object(v.a)(["\n    width: 48px;\n"]))),Q=g.a.div(c||(c=Object(v.a)(["\n    width: calc(50% - 24px);\n    flex: 0 0 calc(50% - 24px);\n\n    & > * {\n        width: 100%;\n    }\n"]))),q=g.a.div(i||(i=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 50px;\n"]))),A=function(e){var t=e.getFlightData,n=Object(l.useState)(F(new Date)),r=Object(x.a)(n,2),a=r[0],c=r[1],i=Object(l.useState)(F(new Date)),s=Object(x.a)(i,2),u=s[0],o=s[1],j=Object(l.useState)(""),d=Object(x.a)(j,2),b=d[0],p=d[1],h=Object(l.useState)(""),f=Object(x.a)(h,2),O=f[0],v=f[1],g=Object(l.useState)("PLN"),w=Object(x.a)(g,2),A=w[0],J=w[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(L,{onSubmit:function(e){return e.preventDefault()},children:[Object(N.jsxs)(q,{children:[Object(N.jsx)(Q,{children:Object(N.jsx)(m.a,{label:"From",value:b,onChange:function(e){return p(e.target.value)}})}),Object(N.jsx)(P.a,{onClick:function(){p(O),v(b)},"aria-label":"reverse",children:Object(N.jsx)(I.a,{})}),Object(N.jsx)(Q,{children:Object(N.jsx)(m.a,{label:"To",value:O,onChange:function(e){return v(e.target.value)}})})]}),Object(N.jsxs)(q,{children:[Object(N.jsx)(Q,{children:Object(N.jsx)(m.a,{type:"date",label:"Departure Date",defaultValue:a,onChange:function(e){return c(e.target.value)}})}),Object(N.jsx)(U,{}),Object(N.jsx)(Q,{children:Object(N.jsx)(m.a,{type:"date",label:"Arrive Date",defaultValue:u,onChange:function(e){return o(e.target.value)}})})]}),Object(N.jsxs)(q,{children:[Object(N.jsx)(Q,{children:Object(N.jsxs)(S.a,{children:[Object(N.jsx)(k.a,{shrink:!0,children:"Currency"}),Object(N.jsxs)(C.a,{value:A,onChange:function(e){return J(e.target.value)},children:[Object(N.jsx)(D.a,{value:"PLN",children:"PLN"}),Object(N.jsx)(D.a,{value:"EUR",children:"EUR"}),Object(N.jsx)(D.a,{value:"USD",children:"USD"}),Object(N.jsx)(D.a,{value:"UAH",children:"UAH"})]})]})}),Object(N.jsx)(y.a,{size:"large",onClick:function(){return t({departureDate:a,arriveDate:u,from:b,to:O,currency:A})},variant:"contained",color:"primary",children:"Find"})]})]})})},J=n(137),E=n(139),M=n(135),T=n(136),z=n(138),B=n(134),H=n(131),R=function(e){var t=e.carrier,n=e.currencies,r=e.quotes,a=e.places,c=t.CarrierId,i=t.Name,s=n[0].Symbol,u=r.filter((function(e){return e.OutboundLeg.CarrierIds[0]===c}));return Object(N.jsxs)(B.a,{children:[Object(N.jsxs)(M.a,{children:[i," (",a.from.replace("-sky",""),"/",a.to.replace("-sky",""),")"]}),Object(N.jsxs)(M.a,{children:[u.map((function(e){return e.MinPrice})).join(", ")," ",s]})]})},V=Object(g.a)(T.a)(s||(s=Object(v.a)(["\n    margin-bottom: 20px;\n"]))),Y=g.a.h3(u||(u=Object(v.a)(["\n    margin: 0 0 10px;\n"]))),G=g.a.span(o||(o=Object(v.a)(["\n    font-size: 12px;\n    font-weight: normal;\n"]))),K=function(e){var t,n,r,a,c,i,s,u,o=e.departureFlightData,l=e.arriveFlightData,j=null===o||void 0===o||null===(t=o.Quotes)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.OutboundLeg)||void 0===r||null===(a=r.DepartureDate)||void 0===a?void 0:a.slice(0,10),d=null===l||void 0===l||null===(c=l.Quotes)||void 0===c||null===(i=c[0])||void 0===i||null===(s=i.OutboundLeg)||void 0===s||null===(u=s.DepartureDate)||void 0===u?void 0:u.slice(0,10);return o.Carriers&&l.Carriers?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(Y,{children:["Departure ",j&&Object(N.jsxs)(G,{children:["(",j,")"]})]}),Object(N.jsx)(V,{component:H.a,children:Object(N.jsxs)(J.a,{"aria-label":"simple table",children:[Object(N.jsx)(z.a,{children:Object(N.jsxs)(B.a,{children:[Object(N.jsx)(M.a,{children:"Name"}),Object(N.jsx)(M.a,{children:"Price"})]})}),Object(N.jsx)(E.a,{children:o.Carriers.map((function(e){return Object(N.jsx)(R,{currencies:o.Currencies,carrier:e,quotes:o.Quotes,places:o.Places},e.CarrierId)}))})]})}),Object(N.jsxs)(Y,{children:["Arrive ",d&&Object(N.jsxs)(G,{children:["(",d,")"]})]}),Object(N.jsx)(V,{component:H.a,children:Object(N.jsxs)(J.a,{"aria-label":"simple table",children:[Object(N.jsx)(z.a,{children:Object(N.jsxs)(B.a,{children:[Object(N.jsx)(M.a,{children:"Name"}),Object(N.jsx)(M.a,{children:"Price"})]})}),Object(N.jsx)(E.a,{children:l.Carriers.map((function(e){return Object(N.jsx)(R,{currencies:l.Currencies,carrier:e,quotes:l.Quotes,places:l.Places},e.CarrierId)}))})]})})]}):null},W=function(){var e=Object(O.a)(f.a.mark((function e(t,n){var r,a,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("countries"),a=r?JSON.parse(r):[],!(c=a.find((function(e){return e.countryName===t})))){e.next=5;break}return e.abrupt("return",c.results);case 5:return e.next=7,fetch("".concat(n).concat(t),{headers:{"x-rapidapi-key":"c37641f051mshe682881ca808e3ep1b0ba1jsne813ccecdbfb","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return e.Places})).catch((function(){return alert("No such country"),[]}));case 7:return(i=e.sent).length&&(a.some((function(e){return e.CountryName===t}))||(a.push({countryName:t,results:i}),localStorage.setItem("countries",JSON.stringify(a)))),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=(n(91),"en-US"),Z="UA",$=function(e){return"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/".concat(Z,"/").concat(e,"/").concat(X,"/?query=")},_=function(){var e=Object(l.useState)({}),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)({}),c=Object(x.a)(a,2),i=c[0],s=c[1],u=function(){var e=Object(O.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,W(t,$(n));case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(O.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,W(t,$(n));case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,a,c,i,l,j,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.departureDate,a=t.arriveDate,c=t.from,i=t.to,l=t.currency,e.next=3,u(c,l);case 3:return j=e.sent,e.next=6,o(i,l);case 6:if(d=e.sent,n&&a&&j&&d&&l){e.next=9;break}return e.abrupt("return");case 9:fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/".concat(Z,"/").concat(l,"/").concat(X,"/").concat(null===j||void 0===j?void 0:j.PlaceId,"/").concat(null===d||void 0===d?void 0:d.PlaceId,"/").concat(n),{headers:{"x-rapidapi-key":"ab45838c7cmsh9ac1edb62d199a4p1e3ca7jsnc9b68cdbfc9f","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return r(Object(p.a)(Object(p.a)({},e),{},{Places:{from:j.PlaceId,to:d.PlaceId}}))})),fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/".concat(Z,"/").concat(l,"/").concat(X,"/").concat(null===d||void 0===d?void 0:d.PlaceId,"/").concat(null===j||void 0===j?void 0:j.PlaceId,"/").concat(a),{headers:{"x-rapidapi-key":"ab45838c7cmsh9ac1edb62d199a4p1e3ca7jsnc9b68cdbfc9f","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return s(Object(p.a)(Object(p.a)({},e),{},{Places:{from:d.PlaceId,to:j.PlaceId}}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"app",children:[Object(N.jsx)(A,{getFlightData:j}),Object(N.jsx)(K,{departureFlightData:n,arriveFlightData:i})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};b.a.render(Object(N.jsx)(j.a.StrictMode,{children:Object(N.jsx)(_,{})}),document.getElementById("root")),ee()}},[[92,1,2]]]);
//# sourceMappingURL=main.3793c973.chunk.js.map