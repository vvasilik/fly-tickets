(this.webpackJsonpfly=this.webpackJsonpfly||[]).push([[0],{71:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s=n(0),u=n.n(s),o=n(8),l=n.n(o),j=(n(71),n(47)),d=n(15),b=n.n(d),p=n(26),f=n(23),h=n(33),x=n(34),O=n(127),v=n(119),g=n(128),m=n(129),y=n(117),k=n(126),S=n(5),C=x.a.form(r||(r=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),w=x.a.div(a||(a=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 20px;\n\n    & > *.MuiFormControl-root {\n        min-width: 50%;\n    }\n"]))),D=x.a.div(c||(c=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n"]))),P=x.a.div(i||(i=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n\n    & > *:not(:first-child) {\n        margin-left: 10px;\n    }\n\n    & > * {\n        flex: 0 1 33%;\n    }\n"]))),U=function(e){var t=e.getFlightData,n=e.onClear,r=Object(s.useState)(function(e){var t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(t,"-").concat(n)}(new Date("Thu Jul 11 2021 22:11:18 GMT+0200"))),a=Object(f.a)(r,2),c=a[0],i=a[1],u=Object(s.useState)("london"),o=Object(f.a)(u,2),l=o[0],j=o[1],d=Object(s.useState)("krakow"),b=Object(f.a)(d,2),p=b[0],h=b[1],x=Object(s.useState)("EUR"),U=Object(f.a)(x,2),I=U[0],F=U[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(C,{onSubmit:function(e){return e.preventDefault()},children:[Object(S.jsx)(w,{children:Object(S.jsx)(O.a,{type:"date",label:"Departure Date",defaultValue:c,onChange:function(e){return i(e.target.value)}})}),Object(S.jsx)(w,{children:Object(S.jsx)(O.a,{placeholder:"London",label:"From",value:l,onChange:function(e){return j(e.target.value)}})}),Object(S.jsx)(w,{children:Object(S.jsx)(O.a,{placeholder:"Paris",label:"To",value:p,onChange:function(e){return h(e.target.value)}})}),Object(S.jsx)(P,{children:Object(S.jsxs)(y.a,{children:[Object(S.jsx)(g.a,{shrink:!0,children:"Currency"}),Object(S.jsxs)(k.a,{value:I,onChange:function(e){return F(e.target.value)},children:[Object(S.jsx)(m.a,{value:"EUR",children:"EUR"}),Object(S.jsx)(m.a,{value:"USD",children:"USD"}),Object(S.jsx)(m.a,{value:"UAH",children:"UAH"}),Object(S.jsx)(m.a,{value:"RUB",children:"RUB"})]})]})})]}),Object(S.jsxs)(D,{children:[Object(S.jsx)(v.a,{onClick:n,variant:"contained",color:"secondary",children:"Clear"}),Object(S.jsx)(v.a,{onClick:function(){return t({departureDate:c,from:l,to:p,currency:I})},variant:"contained",color:"primary",children:"Get data"})]})]})},I=n(123),F=n(125),N=n(121),J=n(122),M=n(124),R=n(120),T=n(118),q=function(e){var t=e.carrier,n=e.currencies,r=e.quotes,a=e.places,c=t.CarrierId,i=t.Name,s=n[0].Symbol,u=r.filter((function(e){return e.OutboundLeg.CarrierIds[0]===c}));return Object(S.jsxs)(R.a,{children:[Object(S.jsxs)(N.a,{children:[i," (",a.from.replace("-sky",""),"/",a.to.replace("-sky",""),")"]}),Object(S.jsxs)(N.a,{children:[u.map((function(e){return e.MinPrice})).join(", ")," ",s]})]})},A=function(e){var t=e.flightData,n=t.Carriers,r=t.Currencies,a=t.Quotes,c=t.Places;return n?Object(S.jsx)(J.a,{component:T.a,children:Object(S.jsxs)(I.a,{"aria-label":"simple table",children:[Object(S.jsx)(M.a,{children:Object(S.jsxs)(R.a,{children:[Object(S.jsx)(N.a,{children:"Name"}),Object(S.jsx)(N.a,{children:"Price"})]})}),Object(S.jsx)(F.a,{children:n.map((function(e){return Object(S.jsx)(q,{currencies:r,carrier:e,quotes:a,places:c},e.CarrierId)}))})]})}):null},B=(n(79),function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r,a,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("countries"),a=r?JSON.parse(r):[],!(c=a.find((function(e){return e.countryName===t})))){e.next=5;break}return e.abrupt("return",c.results);case 5:return e.next=7,fetch("".concat(n).concat(t),{headers:{"x-rapidapi-key":"c37641f051mshe682881ca808e3ep1b0ba1jsne813ccecdbfb","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return e.Places})).catch((function(){return alert("No such country"),[]}));case 7:return(i=e.sent).length&&(a.some((function(e){return e.CountryName===t}))||(a.push({countryName:t,results:i}),localStorage.setItem("countries",JSON.stringify(a)))),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),E="en-US",L=function(e){return"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/".concat("UA","/").concat(e,"/").concat(E,"/?query=")},Q=function(){var e=Object(s.useState)({}),t=Object(f.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,B(t,L(n));case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,B(t,L(n));case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,i,s,u,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.departureDate,i=t.from,s=t.to,u=t.currency,e.next=3,a(i,u);case 3:return o=e.sent,e.next=6,c(s,u);case 6:if(l=e.sent,n&&o&&l&&u){e.next=9;break}return e.abrupt("return");case 9:fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/".concat("UA","/").concat(u,"/").concat(E,"/").concat(null===o||void 0===o?void 0:o.PlaceId,"/").concat(null===l||void 0===l?void 0:l.PlaceId,"/").concat(n),{headers:{"x-rapidapi-key":"ab45838c7cmsh9ac1edb62d199a4p1e3ca7jsnc9b68cdbfc9f","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){console.log(e),r(Object(j.a)(Object(j.a)({},e),{},{Places:{from:o.PlaceId,to:l.PlaceId}}))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"app",children:[Object(S.jsx)(U,{getFlightData:i,onClear:function(){return r([])}}),Object(S.jsx)(A,{flightData:n})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};l.a.render(Object(S.jsx)(u.a.StrictMode,{children:Object(S.jsx)(Q,{})}),document.getElementById("root")),G()}},[[80,1,2]]]);
//# sourceMappingURL=main.9820e602.chunk.js.map