(this.webpackJsonpfly=this.webpackJsonpfly||[]).push([[0],{71:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r,a,c,s,i,u,o,l=n(0),j=n.n(l),b=n(8),d=n.n(b),f=(n(71),n(47)),p=n(13),h=n(20),O=n.n(h),x=n(32),g=n(21),m=n(22),v=n(127),y=n(119),S=n(128),C=n(129),k=n(117),w=n(126),D=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,a,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("countries"),a=r?JSON.parse(r):[],!(c=a.find((function(e){return e.countryName===t})))){e.next=5;break}return e.abrupt("return",c.results);case 5:return e.next=7,fetch("".concat(n).concat(t),{headers:{"x-rapidapi-key":"c37641f051mshe682881ca808e3ep1b0ba1jsne813ccecdbfb","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return e.Places})).catch((function(){return alert("No such country"),[]}));case 7:return(s=e.sent).length&&(a.some((function(e){return e.CountryName===t}))||(a.push({countryName:t,results:s}),localStorage.setItem("countries",JSON.stringify(a)))),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=n(5),N=m.a.form(r||(r=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),I=m.a.div(a||(a=Object(g.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 20px;\n\n    & > *.MuiFormControl-root {\n        min-width: 50%;\n    }\n"]))),U=m.a.div(c||(c=Object(g.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n"]))),F=m.a.div(s||(s=Object(g.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n\n    & > *:not(:first-child) {\n        margin-left: 10px;\n    }\n\n    & > * {\n        flex: 0 1 33%;\n    }\n"]))),B=m.a.dl(i||(i=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n    text-align: right;\n"]))),A=m.a.dt(u||(u=Object(g.a)(["\n    margin: 0 0 7px;\n    font-size: 13px;\n    color: #0000008a;\n"]))),L=m.a.dd(o||(o=Object(g.a)(["\n    margin: 0;\n"]))),M=function(e){var t=e.getFlightData,n=e.onClear,r=Object(l.useState)(function(e){var t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(t,"-").concat(n)}(new Date)),a=Object(p.a)(r,2),c=a[0],s=a[1],i=Object(l.useState)(""),u=Object(p.a)(i,2),o=u[0],j=u[1],b=Object(l.useState)([]),d=Object(p.a)(b,2),f=d[0],h=d[1],g=Object(l.useState)(""),m=Object(p.a)(g,2),M=m[0],R=m[1],q=Object(l.useState)([]),E=Object(p.a)(q,2),J=E[0],Q=E[1],T=Object(l.useState)("UA"),H=Object(p.a)(T,2),z=H[0],G=H[1],V=Object(l.useState)("EUR"),Y=Object(p.a)(V,2),K=Y[0],W=Y[1],X=Object(l.useState)("en-US"),Z=Object(p.a)(X,2),$=Z[0],_=Z[1],ee=function(){return"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/".concat(z,"/").concat(K,"/").concat($,"/?query=")},te=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,D(o,ee());case 4:t=e.sent,h(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,D(M,ee());case 4:t=e.sent,Q(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(N,{onSubmit:function(e){return e.preventDefault()},children:[Object(P.jsx)(I,{children:Object(P.jsx)(v.a,{type:"date",label:"Departure Date",defaultValue:c,onChange:function(e){return s(e.target.value)}})}),Object(P.jsxs)(I,{children:[Object(P.jsx)(v.a,{placeholder:"London",label:"From",value:o,onBlur:te,onChange:function(e){return j(e.target.value)}}),0!==f.length&&Object(P.jsxs)(B,{children:[Object(P.jsx)(A,{children:"All airports for:"}),Object(P.jsxs)(L,{children:[f[0].PlaceName," (",f[0].CountryName,")"]})]})]}),Object(P.jsxs)(I,{children:[Object(P.jsx)(v.a,{placeholder:"Paris",label:"To",value:M,onBlur:ne,onChange:function(e){return R(e.target.value)}}),0!==J.length&&Object(P.jsxs)(B,{children:[Object(P.jsx)(A,{children:"All airports for:"}),Object(P.jsxs)(L,{children:[J[0].PlaceName," (",J[0].CountryName,")"]})]})]}),Object(P.jsxs)(F,{children:[Object(P.jsx)(v.a,{label:"Market Country",type:"text",value:z,onChange:function(e){return G(e.target.value)}}),Object(P.jsxs)(k.a,{children:[Object(P.jsx)(S.a,{shrink:!0,children:"Currency"}),Object(P.jsxs)(w.a,{value:K,onChange:function(e){return W(e.target.value)},children:[Object(P.jsx)(C.a,{value:"EUR",children:"EUR"}),Object(P.jsx)(C.a,{value:"USD",children:"USD"}),Object(P.jsx)(C.a,{value:"UAH",children:"UAH"}),Object(P.jsx)(C.a,{value:"RUB",children:"RUB"})]})]}),Object(P.jsx)(v.a,{label:"Lang",disabled:!0,type:"text",value:$,onChange:function(e){return _(e.target.value)}})]})]}),Object(P.jsxs)(U,{children:[Object(P.jsx)(y.a,{onClick:n,variant:"contained",color:"secondary",children:"Clear"}),Object(P.jsx)(y.a,{onClick:function(){return t({departureDate:c,from:(null===f||void 0===f?void 0:f[0])||[],to:(null===J||void 0===J?void 0:J[0])||[],country:z,currency:K,lang:$})},variant:"contained",color:"primary",children:"Get data"})]})]})},R=n(123),q=n(125),E=n(121),J=n(122),Q=n(124),T=n(120),H=n(118),z=function(e){var t=e.carrier,n=e.currencies,r=e.quotes,a=e.places,c=t.CarrierId,s=t.Name,i=n[0].Symbol,u=r.filter((function(e){return e.OutboundLeg.CarrierIds[0]===c}));return Object(P.jsxs)(T.a,{children:[Object(P.jsxs)(E.a,{children:[s," (",a.from.replace("-sky",""),"/",a.to.replace("-sky",""),")"]}),Object(P.jsxs)(E.a,{children:[u.map((function(e){return e.MinPrice})).join(", ")," ",i]})]})},G=function(e){var t=e.flightData;return Object(P.jsx)(J.a,{component:H.a,children:Object(P.jsxs)(R.a,{"aria-label":"simple table",children:[Object(P.jsx)(Q.a,{children:Object(P.jsxs)(T.a,{children:[Object(P.jsx)(E.a,{children:"Name"}),Object(P.jsx)(E.a,{children:"Price"})]})}),Object(P.jsx)(q.a,{children:t.map((function(e){var t=e.Carriers,n=e.Currencies,r=e.Quotes,a=e.Places;return t&&t.map((function(e){return Object(P.jsx)(z,{currencies:n,carrier:e,quotes:r,places:a},e.CarrierId)}))}))})]})})},V=(n(79),function(){var e=Object(l.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(P.jsxs)("div",{className:"app",children:[Object(P.jsx)(M,{getFlightData:function(e){r([]);var t=e.departureDate,a=e.from,c=e.to,s=e.country,i=e.currency,u=e.lang;fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/".concat(s,"/").concat(i,"/").concat(u,"/").concat(a.PlaceId,"/").concat(c.PlaceId,"/").concat(t),{headers:{"x-rapidapi-key":"ab45838c7cmsh9ac1edb62d199a4p1e3ca7jsnc9b68cdbfc9f","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){n.push(Object(f.a)(Object(f.a)({},e),{},{Places:{from:a.PlaceId,to:c.PlaceId}})),r(n)}))},onClear:function(){return r([])}}),Object(P.jsx)(G,{flightData:n})]})}),Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};d.a.render(Object(P.jsx)(j.a.StrictMode,{children:Object(P.jsx)(V,{})}),document.getElementById("root")),Y()}},[[80,1,2]]]);
//# sourceMappingURL=main.25ca3892.chunk.js.map