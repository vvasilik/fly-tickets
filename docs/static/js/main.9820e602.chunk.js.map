{"version":3,"sources":["components/Form/Form.jsx","components/Form/index.js","helpers/convertDate.js","components/Row/index.js","components/Row/Row.jsx","components/Table/index.js","components/Table/Table.jsx","helpers/findCountry.js","App.js","reportWebVitals.js","index.js"],"names":["StyledForm","styled","form","Row","div","Actions","InputsHolder","Form","getFlightData","onClear","useState","date","month","String","getMonth","padStart","day","getDate","year","getFullYear","convertDate","Date","departureDate","setDepartureDate","from","setFrom","to","setTo","currency","setCurrency","onSubmit","e","preventDefault","TextField","type","label","defaultValue","onChange","target","value","placeholder","FormControl","InputLabel","shrink","Select","MenuItem","Button","onClick","variant","color","carrier","currencies","quotes","places","CarrierId","Name","Symbol","flightData","filter","quote","OutboundLeg","CarrierIds","TableRow","TableCell","replace","map","MinPrice","join","Table","Carriers","Currencies","Quotes","Places","TableContainer","component","Paper","aria-label","TableHead","TableBody","item","findCountry","countryName","url","a","storedCountriesString","localStorage","getItem","storedCountries","JSON","parse","storedCountry","find","results","fetch","headers","then","data","json","catch","alert","length","some","CountryName","push","setItem","stringify","lang","getCountryUrl","App","setFlightData","findCountryFrom","storedResults","findCountryTo","options","fromCountry","toCountry","PlaceId","console","log","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9820e602.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { convertDate } from \"../../helpers/convertDate\";\n\nconst StyledForm = styled.form`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst Row = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 20px;\n\n    & > *.MuiFormControl-root {\n        min-width: 50%;\n    }\n`;\n\nconst Actions = styled.div`\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n`;\n\nconst InputsHolder = styled.div`\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n\n    & > *:not(:first-child) {\n        margin-left: 10px;\n    }\n\n    & > * {\n        flex: 0 1 33%;\n    }\n`;\n\nexport const Form = ({ getFlightData, onClear }) => {\n    const [departureDate, setDepartureDate] = useState(convertDate(new Date(\"Thu Jul 11 2021 22:11:18 GMT+0200\")));\n    const [from, setFrom] = useState(\"london\");\n    const [to, setTo] = useState(\"krakow\");\n    const [currency, setCurrency] = useState(\"EUR\");\n\n    const onSubmit = () =>\n        getFlightData({\n            departureDate,\n            from,\n            to,\n            currency\n        });\n\n    \n\n    return <>\n        <StyledForm onSubmit={e => e.preventDefault()}>\n            <Row>\n                <TextField\n                    type=\"date\"\n                    label=\"Departure Date\"\n                    defaultValue={departureDate}\n                    onChange={(date) => setDepartureDate(date.target.value)}\n                />\n            </Row>\n            <Row>\n                <TextField placeholder=\"London\" label=\"From\" value={from} onChange={(e) => setFrom(e.target.value)} />\n            </Row>\n            <Row>\n                <TextField placeholder=\"Paris\" label=\"To\" value={to} onChange={(e) => setTo(e.target.value)} />\n            </Row>\n            <InputsHolder>\n                <FormControl>\n                    <InputLabel shrink>\n                        Currency\n                    </InputLabel>\n                    <Select\n                        value={currency}\n                        onChange={(e) => setCurrency(e.target.value)}\n                    >\n                        <MenuItem value=\"EUR\">EUR</MenuItem>\n                        <MenuItem value=\"USD\">USD</MenuItem>\n                        <MenuItem value=\"UAH\">UAH</MenuItem>\n                        <MenuItem value=\"RUB\">RUB</MenuItem>\n                    </Select>\n                </FormControl>\n            </InputsHolder>\n        </StyledForm>\n        <Actions>\n            <Button onClick={onClear} variant=\"contained\" color=\"secondary\">\n                Clear\n            </Button>\n            <Button onClick={onSubmit} variant=\"contained\" color=\"primary\">\n                Get data\n            </Button>\n        </Actions>\n    </>\n}","import { Form } from \"./Form\";\n\nexport default Form;","export const convertDate = (date) => {\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const year = date.getFullYear();\n\n    return `${year}-${month}-${day}`;\n}","import { Row } from \"./Row\";\n\nexport default Row;","import TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\n\nexport const Row = ({ carrier, currencies, quotes, places }) => {\n    const { CarrierId, Name } = carrier;\n    const currency = currencies[0].Symbol;\n    const flightData = quotes.filter(quote => quote.OutboundLeg.CarrierIds[0] === CarrierId);\n\n    return <TableRow>\n        <TableCell>{Name} ({places.from.replace(\"-sky\", \"\")}/{places.to.replace(\"-sky\", \"\")})</TableCell>\n        <TableCell>{flightData.map(({ MinPrice }) => MinPrice).join(\", \")} {currency}</TableCell>\n    </TableRow>\n}","import { Table } from \"./Table\";\n\nexport default Table;","import MuiTable from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Row from \"../Row\";\n\nexport const Table = ({ flightData }) => {\n    const { Carriers, Currencies, Quotes, Places } = flightData;\n\n    return Carriers ? (<TableContainer component={Paper}>\n        <MuiTable aria-label=\"simple table\">\n            <TableHead>\n                <TableRow>\n                    <TableCell>Name</TableCell>\n                    <TableCell>Price</TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {\n                    Carriers.map(item =>\n                        <Row\n                            key={item.CarrierId}\n                            currencies={Currencies}\n                            carrier={item}\n                            quotes={Quotes}\n                            places={Places}\n                        />\n                    )\n                }\n            </TableBody>\n        </MuiTable>\n    </TableContainer>) : null\n}","export const findCountry = async (countryName, url) => {\n    const storedCountriesString = localStorage.getItem(\"countries\");\n    const storedCountries = storedCountriesString ? JSON.parse(storedCountriesString) : [];\n    const storedCountry = storedCountries.find(item => item.countryName === countryName);\n\n    if (storedCountry) {\n        return storedCountry.results;\n    }\n\n    const results = await fetch(`${url}${countryName}`, {\n        headers: {\n            \"x-rapidapi-key\": \"c37641f051mshe682881ca808e3ep1b0ba1jsne813ccecdbfb\",\n            \"x-rapidapi-host\": \"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com\",\n            \"useQueryString\": true\n        },\n    }).then(data => data.json()).then(({ Places }) => Places).catch(() => {\n        alert(\"No such country\");\n        return [];\n    });\n\n    if (results.length) {\n        if (!storedCountries.some(item => item.CountryName === countryName)) {\n            storedCountries.push({ countryName, results });\n            localStorage.setItem(\n                \"countries\",\n                JSON.stringify(storedCountries)\n            )\n        }\n    }\n\n    return results;\n}","import { useState } from 'react';\nimport Form from \"./components/Form\";\nimport Table from \"./components/Table\";\nimport './App.css';\nimport { findCountry } from \"./helpers/findCountry\";\n\nconst lang = \"en-US\";\nconst marketCountry = \"UA\";\n\nconst getCountryUrl = (currency) =>\n    `https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/${marketCountry}/${currency}/${lang}/?query=`;\n\nconst App = () => {\n    const [flightData, setFlightData] = useState({});\n    const onClear = () => setFlightData([]);\n\n    const findCountryFrom = async (from, currency) => {\n        if (!from || !currency) {\n            return;\n        }\n\n        const storedResults = await findCountry(from, getCountryUrl(currency));\n\n        return storedResults?.[0];\n    }\n\n    const findCountryTo = async (to, currency) => {\n        if (!to || !currency) {\n            return;\n        }\n\n        const storedResults = await findCountry(to, getCountryUrl(currency));\n\n        return storedResults?.[0];\n    }\n\n    const getFlightData = async (options) => {\n        const { departureDate, from, to, currency } = options;\n\n        const fromCountry = await findCountryFrom(from, currency);\n        const toCountry = await findCountryTo(to, currency);\n\n        if (!departureDate || !fromCountry || !toCountry || !currency) {\n            return;\n        }\n\n        fetch(`https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/${marketCountry}/${currency}/${lang}/${fromCountry?.PlaceId}/${toCountry?.PlaceId}/${departureDate}`, {\n            headers: {\n                \"x-rapidapi-key\": \"ab45838c7cmsh9ac1edb62d199a4p1e3ca7jsnc9b68cdbfc9f\",\n                \"x-rapidapi-host\": \"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com\",\n                \"useQueryString\": true\n            },\n        }).then(data => data.json()).then(data => {   \n            console.log(data);         \n            setFlightData({...data, Places: { from: fromCountry.PlaceId, to: toCountry.PlaceId }});\n        })\n    };\n\n    return (\n        <div className=\"app\">\n            <Form getFlightData={getFlightData} onClear={onClear} />\n            <Table flightData={flightData}/>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}