(this.webpackJsonpfly=this.webpackJsonpfly||[]).push([[0],{79:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,u,o,l,j=n(0),d=n.n(j),b=n(10),p=n.n(b),h=(n(79),n(39)),f=n(17),O=n.n(f),x=n(33),v=n(21),g=n(18),m=n(19),y=n(141),k=n(133),D=n(142),S=n(143),C=n(125),P=n(140),w=n(132),I=n(61),F=n.n(I),N=function(e){var t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(t,"-").concat(n)},L=n(4),U=m.a.form(r||(r=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),Q=m.a.div(a||(a=Object(g.a)(["\n    width: 48px;\n"]))),q=m.a.div(c||(c=Object(g.a)(["\n    width: calc(50% - 24px);\n    flex: 0 0 calc(50% - 24px);\n"]))),A=Object(m.a)(C.a)(i||(i=Object(g.a)(["\n    width: 100%;\n"]))),J=m.a.div(s||(s=Object(g.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 50px;\n"]))),E=function(e){var t=e.getFlightData,n=Object(j.useState)(N(new Date)),r=Object(v.a)(n,2),a=r[0],c=r[1],i=Object(j.useState)(N(new Date)),s=Object(v.a)(i,2),u=s[0],o=s[1],l=Object(j.useState)(""),d=Object(v.a)(l,2),b=d[0],p=d[1],h=Object(j.useState)(""),f=Object(v.a)(h,2),O=f[0],x=f[1],g=Object(j.useState)("PLN"),m=Object(v.a)(g,2),C=m[0],I=m[1];return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(U,{onSubmit:function(e){return e.preventDefault()},children:[Object(L.jsxs)(J,{children:[Object(L.jsx)(q,{children:Object(L.jsx)(y.a,{label:"From",value:b,onChange:function(e){return p(e.target.value)}})}),Object(L.jsx)(w.a,{onClick:function(){p(O),x(b)},"aria-label":"reverse",children:Object(L.jsx)(F.a,{})}),Object(L.jsx)(q,{children:Object(L.jsx)(y.a,{label:"To",value:O,onChange:function(e){return x(e.target.value)}})})]}),Object(L.jsxs)(J,{children:[Object(L.jsx)(q,{children:Object(L.jsx)(y.a,{type:"date",label:"Departure Date",defaultValue:a,onChange:function(e){return c(e.target.value)}})}),Object(L.jsx)(Q,{}),Object(L.jsx)(q,{children:Object(L.jsx)(y.a,{type:"date",label:"Arrive Date",defaultValue:u,onChange:function(e){return o(e.target.value)}})})]}),Object(L.jsxs)(J,{children:[Object(L.jsx)(q,{children:Object(L.jsxs)(A,{children:[Object(L.jsx)(D.a,{shrink:!0,children:"Currency"}),Object(L.jsxs)(P.a,{value:C,onChange:function(e){return I(e.target.value)},children:[Object(L.jsx)(S.a,{value:"PLN",children:"PLN"}),Object(L.jsx)(S.a,{value:"EUR",children:"EUR"}),Object(L.jsx)(S.a,{value:"USD",children:"USD"}),Object(L.jsx)(S.a,{value:"UAH",children:"UAH"})]})]})}),Object(L.jsx)(k.a,{size:"large",onClick:function(){return t({departureDate:a,arriveDate:u,from:b,to:O,currency:C})},variant:"contained",color:"primary",children:"Find"})]})]})})},M=n(137),T=n(139),z=n(135),B=n(136),H=n(138),R=n(134),V=n(131),Y=function(e){var t=e.carrier,n=e.currencies,r=e.quotes,a=e.places,c=t.CarrierId,i=t.Name,s=n[0].Symbol,u=r.filter((function(e){return e.OutboundLeg.CarrierIds[0]===c}));return Object(L.jsxs)(R.a,{children:[Object(L.jsxs)(z.a,{children:[i," (",a.from.replace("-sky",""),"/",a.to.replace("-sky",""),")"]}),Object(L.jsxs)(z.a,{children:[u.map((function(e){return e.MinPrice})).join(", ")," ",s]})]})},G=Object(m.a)(B.a)(u||(u=Object(g.a)(["\n    margin-bottom: 20px;\n"]))),K=m.a.h3(o||(o=Object(g.a)(["\n    margin: 0 0 10px;\n"]))),W=m.a.span(l||(l=Object(g.a)(["\n    font-size: 12px;\n    font-weight: normal;\n"]))),X=function(e){var t,n,r,a,c,i,s,u,o=e.departureFlightData,l=e.arriveFlightData,j=null===o||void 0===o||null===(t=o.Quotes)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.OutboundLeg)||void 0===r||null===(a=r.DepartureDate)||void 0===a?void 0:a.slice(0,10),d=null===l||void 0===l||null===(c=l.Quotes)||void 0===c||null===(i=c[0])||void 0===i||null===(s=i.OutboundLeg)||void 0===s||null===(u=s.DepartureDate)||void 0===u?void 0:u.slice(0,10);return o.Carriers&&l.Carriers?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(K,{children:["Departure ",j&&Object(L.jsxs)(W,{children:["(",j,")"]})]}),Object(L.jsx)(G,{component:V.a,children:Object(L.jsxs)(M.a,{"aria-label":"simple table",children:[Object(L.jsx)(H.a,{children:Object(L.jsxs)(R.a,{children:[Object(L.jsx)(z.a,{children:"Name"}),Object(L.jsx)(z.a,{children:"Price"})]})}),Object(L.jsx)(T.a,{children:o.Carriers.map((function(e){return Object(L.jsx)(Y,{currencies:o.Currencies,carrier:e,quotes:o.Quotes,places:o.Places},e.CarrierId)}))})]})}),Object(L.jsxs)(K,{children:["Arrive ",d&&Object(L.jsxs)(W,{children:["(",d,")"]})]}),Object(L.jsx)(G,{component:V.a,children:Object(L.jsxs)(M.a,{"aria-label":"simple table",children:[Object(L.jsx)(H.a,{children:Object(L.jsxs)(R.a,{children:[Object(L.jsx)(z.a,{children:"Name"}),Object(L.jsx)(z.a,{children:"Price"})]})}),Object(L.jsx)(T.a,{children:l.Carriers.map((function(e){return Object(L.jsx)(Y,{currencies:l.Currencies,carrier:e,quotes:l.Quotes,places:l.Places},e.CarrierId)}))})]})})]}):null},Z=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,a,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("countries"),a=r?JSON.parse(r):[],!(c=a.find((function(e){return e.countryName===t})))){e.next=5;break}return e.abrupt("return",c.results);case 5:return e.next=7,fetch("".concat(n).concat(t),{headers:{"x-rapidapi-key":"c37641f051mshe682881ca808e3ep1b0ba1jsne813ccecdbfb","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return e.Places})).catch((function(){return alert("No such country"),[]}));case 7:return(i=e.sent).length&&(a.some((function(e){return e.CountryName===t}))||(a.push({countryName:t,results:i}),localStorage.setItem("countries",JSON.stringify(a)))),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=(n(91),"en-US"),_="UA",ee=function(e){return"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/".concat(_,"/").concat(e,"/").concat($,"/?query=")},te=function(){var e=Object(j.useState)({}),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(j.useState)({}),c=Object(v.a)(a,2),i=c[0],s=c[1],u=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z(t,ee(n));case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z(t,ee(n));case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a,c,i,l,j,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.departureDate,a=t.arriveDate,c=t.from,i=t.to,l=t.currency,e.next=3,u(c,l);case 3:return j=e.sent,e.next=6,o(i,l);case 6:if(d=e.sent,n&&a&&j&&d&&l){e.next=9;break}return e.abrupt("return");case 9:fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/".concat(_,"/").concat(l,"/").concat($,"/").concat(null===j||void 0===j?void 0:j.PlaceId,"/").concat(null===d||void 0===d?void 0:d.PlaceId,"/").concat(n),{headers:{"x-rapidapi-key":"ab45838c7cmsh9ac1edb62d199a4p1e3ca7jsnc9b68cdbfc9f","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return r(Object(h.a)(Object(h.a)({},e),{},{Places:{from:j.PlaceId,to:d.PlaceId}}))})),fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/".concat(_,"/").concat(l,"/").concat($,"/").concat(null===d||void 0===d?void 0:d.PlaceId,"/").concat(null===j||void 0===j?void 0:j.PlaceId,"/").concat(a),{headers:{"x-rapidapi-key":"ab45838c7cmsh9ac1edb62d199a4p1e3ca7jsnc9b68cdbfc9f","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){return s(Object(h.a)(Object(h.a)({},e),{},{Places:{from:d.PlaceId,to:j.PlaceId}}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{className:"app",children:[Object(L.jsx)(E,{getFlightData:l}),Object(L.jsx)(X,{departureFlightData:n,arriveFlightData:i})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};p.a.render(Object(L.jsx)(d.a.StrictMode,{children:Object(L.jsx)(te,{})}),document.getElementById("root")),ne()}},[[92,1,2]]]);
//# sourceMappingURL=main.81bc83ea.chunk.js.map